import{_ as w,r as i,u as g,a as c,w as b,c as d,o as p,b as a,d as m,e as k,v,f as l,t as V,g as S,h as x,l as y}from"./index-Cd8uA6a5.js";const B={class:"login-wrap"},D=["disabled"],L={key:0,class:"error"},U={__name:"LoginView",setup(q){const t=i(""),o=i(""),u=x(),_=g(),f=c(s=>s.auth.status),r=c(s=>s.auth.error),h=async()=>{await _(y({username:t.value,password:o.value})),r.value||u.push({name:"tasks"})};return b(()=>localStorage.getItem("access"),s=>{s&&u.replace({name:"tasks"})}),(s,e)=>(p(),d("div",B,[e[2]||(e[2]=a("h2",null,"Login",-1)),a("form",{onSubmit:S(h,["prevent"]),class:"form"},[m(a("input",{required:"","onUpdate:modelValue":e[0]||(e[0]=n=>t.value=n),placeholder:"Usuario",class:"input"},null,512),[[v,t.value]]),m(a("input",{required:"","onUpdate:modelValue":e[1]||(e[1]=n=>o.value=n),type:"password",placeholder:"Contrase√±a",class:"input"},null,512),[[v,o.value]]),a("button",{disabled:l(f)==="loading",class:"btn"},"Entrar",8,D),l(r)?(p(),d("p",L,V(l(r)),1)):k("",!0)],32)]))}},E=w(U,[["__scopeId","data-v-64971a39"]]);export{E as default};
