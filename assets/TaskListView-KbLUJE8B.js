import{_ as y,u as C,a as d,i as v,j as T,c as n,o,b as s,k as c,t as l,f as i,m,n as k,p as V,e as w,F as x,q as E,s as N,h as B,x as L,y as S}from"./index-Cd8uA6a5.js";const D={class:"page"},F={class:"page-header"},j={class:"username"},q={class:"actions"},z={key:0,class:"loading"},I={key:1,class:"table-card"},M={class:"task-table"},R={class:"title"},U={class:"row-actions"},$=["onClick"],A={key:0},G={__name:"TaskListView",setup(H){const r=C(),p=B(),u=d(e=>e.tasks.items),h=d(e=>e.tasks.status),f=d(e=>e.auth.user?.username||"Usuario");v(()=>r(T()));const g=async e=>{confirm("¿Eliminar tarea?")&&await r(S(e))},b=()=>{r(N()),p.push({name:"login"})};return(e,t)=>{const _=V("router-link");return o(),n("div",D,[s("header",F,[s("h2",null,[t[0]||(t[0]=c("Bienvenido, ",-1)),s("span",j,l(i(f)),1)]),s("div",q,[m(_,{to:{name:"task-new"},class:"btn primary"},{default:k(()=>[...t[1]||(t[1]=[c("+ Nueva",-1)])]),_:1}),s("button",{class:"btn",onClick:b},"Salir")])]),i(h)==="loading"?(o(),n("section",z,"Cargando...")):(o(),n("section",I,[s("table",M,[t[4]||(t[4]=s("thead",null,[s("tr",null,[s("th",null,"Título"),s("th",null,"Estado"),s("th",null,"Vence"),s("th",null,"Creada"),s("th")])],-1)),s("tbody",null,[(o(!0),n(x,null,E(i(u),a=>(o(),n("tr",{key:a.id},[s("td",R,l(a.title),1),s("td",null,[s("span",{class:L(["badge",a.status])},l(a.status),3)]),s("td",null,l(a.due_date||"-"),1),s("td",null,l((a.created_at||"").slice(0,19).replace("T"," ")),1),s("td",U,[m(_,{to:{name:"task-edit",params:{id:a.id}},class:"link"},{default:k(()=>[...t[2]||(t[2]=[c("Editar",-1)])]),_:1},8,["to"]),s("button",{class:"link danger",onClick:J=>g(a.id)},"Eliminar",8,$)])]))),128)),i(u).length===0?(o(),n("tr",A,[...t[3]||(t[3]=[s("td",{colspan:"5",class:"empty"},"Sin tareas",-1)])])):w("",!0)])])]))])}}},O=y(G,[["__scopeId","data-v-9fd6d4fa"]]);export{O as default};
